{% load static %}
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="x-ua-compatible" content="ie=edge">

  <link rel="shortcut icon" href="{% static tata.ico %}" type="image/x-icon"/>
  <title>Stock Prediction | ECE 568</title>

  <!-- Font Awesome Icons -->
  <link rel="stylesheet" href="{% static "plugins/fontawesome-free/css/all.min.css" %}">
  <!-- Ionicons -->
  <link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
  <!-- icheck bootstrap -->
  <link rel="stylesheet" href="{% static "plugins/icheck-bootstrap/icheck-bootstrap.min.css" %}">
  <!-- Theme style -->
  <link rel="stylesheet" href="{% static "dist/css/AdminLTE.min.css" %}">
  <!-- Google Font: Source Sans Pro -->
  <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700" rel="stylesheet">
</head>
<body class="hold-transition login-page">
<div class="register-box">
  <div class="register-logo">
    <a href="/"><b>Stock </b> Prediction</a>
  </div>
  {% if err %}
    <div class="alert alert-warning alert-dismissible">
      <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
      <h4><i class="icon fa fa-warning"></i> Register failed!</h4>
      {{ err }}
    </div>
  {% endif %}
  {% if success %}
    <div class="alert alert-success alert-dismissible">
      <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
      <h4><i class="icon fa fa-check"></i> Successfully Registered!</h4>
      <a href="/">Enter</a> in 3 seconds.
    </div>
    <script language="javascript" type="text/javascript">
        setTimeout("location.href='/'", 3000);
    </script>
  {% endif %}
  <div class="card">
    <div class="card-body register-card-body">
      <p class="login-box-msg">Register</p>
      <form action="/register/" method="post">
        {% csrf_token %}
        <div class="form-group mb-3 input-group">
          <input type="text" class="form-control" placeholder="Username" name="Username" id="username">
          <div class="input-group-append">
            <div class="input-group-text">
              <span class="fas fa-envelope"></span>
            </div>
          </div>
        </div>
        <div class="form-group mb-3 input-group">
          <input type="password" class="form-control" placeholder="Password" name="Password">
          <div class="input-group-append">
            <div class="input-group-text">
              <span class="fas fa-lock"></span>
            </div>
          </div>
        </div>
        <div class="form-group mb-3 input-group">
          <input type="password" class="form-control" placeholder="Confirm password" name="Retype password">
          <div class="input-group-append">
            <div class="input-group-text">
              <span class="fas fa-lock"></span>
            </div>
          </div>
        </div>
        <div class="icheck-primary">
          <input type="checkbox" id="agreeTerms" name="TOS">
          <label for="agreeTerms">
            I agree with <a href="#TOS" data-toggle="modal" data-target="#TOSModal">Terms Of Service</a>
          </label>
        </div>
        <button type="submit" class="btn btn-primary btn-block">Register</button>
      </form>
      <a href="/login" class="text-center">Already Registered</a>
    </div>
  </div>
  <!-- /.form-box -->
</div>
<div class="modal fade" id="TOSModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title" id="TOSTitle"># Terms of Service</h4>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">x</span>
        </button>
      </div>
      <div class="modal-body" id="TOSContent">
### Privacy
1. Users need to provide username and password when registering, and keep it by themselves. Username and mailbox are the user's only credentials.
2. This site will encrypt and store user passwords to ensure data security as much as possible, but does not guarantee the absolute security of this information.
3. This site will monitor and process the chat messages received by the robot, and in most cases will hash the message and store it, but there is no guarantee that there is no clear text message in the database.
4. This site provides an open platform for robot adoption. The identity and intention of the adopter cannot be guaranteed. Please confirm the identity and use the relevant robot.
### Terms of use
1. It is prohibited to use the services of this site for any illegal and malicious activities.
2. It is prohibited to misuse the services provided by this site, including but not limited to the APIs and public resources provided by this site.
3. Any user who violates the terms of use, we have the right to delete the illegal account without notice and confiscate the right to use the services of this site.
4. All consequences caused during use shall be borne by users.
### Other
1. This site is limited to human and cats.
2. After updating TOS, users default to the latest TOS.
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" data-dismiss="modal">Confirm</button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal -->
</div>
<!-- /.register-box -->

<!-- jQuery 2.2.3 -->
<script src="{% static "plugins/jquery/jquery.min.js" %}"></script>
<!-- Bootstrap 3.3.6 -->
<script src="{% static "plugins/bootstrap/js/bootstrap.min.js" %}"></script>
<!-- iCheck -->
<!-- script src="{% static "plugins/iCheck/icheck.min.js" %}"></script -->
<!-- Showdown -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/showdown/1.9.0/showdown.min.js"
        integrity="sha256-LSUpTY0kkXGKvcBC9kbmgibmx3NVVgJvAEfTZbs51mU=" crossorigin="anonymous"></script>
<script>
    $(function () {
        $('input').iCheck({
            checkboxClass: 'icheckbox_square-blue',
            radioClass: 'iradio_square-blue',
            increaseArea: '20%' // optional
        });
    });
    $(document).ready(function () {
        let converter = new showdown.Converter({tables: true});
        let text = $("#TOSTitle").html();
        let mdhtml = converter.makeHtml(text);
        $("#TOSTitle").html(mdhtml);
        text = $("#TOSContent").html();
        mdhtml = converter.makeHtml(text);
        $("#TOSContent").html(mdhtml);
    });
</script>
</body>